(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{173:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return u}));var a=n(1),r=n(9),o=(n(0),n(181)),i=n(183),c={id:"response",title:"Response Node",sidebar_label:"Response Node"},s={id:"nodes/stock/response",title:"Response Node",description:"import useBaseUrl from '@docusaurus/useBaseUrl';",source:"@site/docs/nodes/stock/response.md",permalink:"/docs/nodes/stock/response",editUrl:"https://github.com/datomar-labs-inc/documentation-convai-platform/docs/nodes/stock/response.md",sidebar_label:"Response Node",sidebar:"someSidebar",previous:{title:"Input Node",permalink:"/docs/nodes/stock/input"},next:{title:"Set Data Node",permalink:"/docs/nodes/stock/set-data"}},l=[{value:"Usage",id:"usage",children:[]},{value:"Configuration",id:"configuration",children:[]}],b={rightToc:l};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"usage"},"Usage"),Object(o.b)("p",null,"Response node is used to send a response to the user. We can send 2 types of responses:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Text Response"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"To send a text response, you can simply write it in text form",Object(o.b)("br",null),Object(o.b)("br",null))),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-go"}),"This is a response\n")),Object(o.b)("img",{alt:"Input Node explained",src:Object(i.a)("img/nodes/stock/response/1.png")}),Object(o.b)("br",null),Object(o.b)("br",null),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"You can also extract variable data in the message script as well. You can use d, s or u depending on if the variable is saved in the execution, session or saved user data respectively. For example,",Object(o.b)("br",null),Object(o.b)("br",null))),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-go"}),'This is a {{ d "firstName" }}\nThis is a {{ u "firstName" }}\nThis is a {{ s "firstName" }}\n')),Object(o.b)("img",{alt:"Input Node explained",src:Object(i.a)("img/nodes/stock/response/2.png")}),Object(o.b)("br",null),Object(o.b)("br",null),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"You can also add conditions based responses to the chatbot more. Refer to the ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://golang.org/pkg/text/template/"}),"Go template documentation")," for further tips and tricks",Object(o.b)("br",null),Object(o.b)("br",null))),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-go"}),'{{ if u "firstName" }}\nHi {{ u "firstName" }}. How are you doing?\n{{ else }}\nHi. How are you doing?\n{{ end }}\n')),Object(o.b)("img",{alt:"Input Node explained",src:Object(i.a)("img/nodes/stock/response/3.png")}),Object(o.b)("br",null),Object(o.b)("br",null),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"To customize the response for a different channel, switch to the channel and add the response. If the channel response is not provided, the basic response will be sent on all the channels.",Object(o.b)("br",null),Object(o.b)("br",null),Object(o.b)("img",{alt:"Input Node explained",src:Object(i.a)("img/nodes/stock/response/4.png")}),Object(o.b)("br",null),Object(o.b)("br",null)))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Text Message with Quick Replies (QR)"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"To send a message with quick replies, just add ",Object(o.b)("inlineCode",{parentName:"li"},"{{ qr \u201cqr name\u201d \u201cqr value\u201d }}"),". Each QR has a name and value. Name is the text shown to the user but value is the text received back by the bot. If the value is not mentioned, the QR name is considered as the value by default. Examples, ",Object(o.b)("inlineCode",{parentName:"li"},"{{ qr \u201cOne\u201d }}")," or ",Object(o.b)("inlineCode",{parentName:"li"},"{{ qr \u201cOne\u201d \u201c1\u201d }}"),". Choose the format that works best for your case.",Object(o.b)("br",null),Object(o.b)("br",null))),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-go"}),'Hi. How are you doing today?\n{{ qr "Doing Great!!" "WELCOME_GOOD"}} {{ qr "Not a great start :(" "WELCOME_BAD"}}\n')),Object(o.b)("img",{alt:"Input Node explained",src:Object(i.a)("img/nodes/stock/response/5.png")}),Object(o.b)("br",null),Object(o.b)("br",null))),Object(o.b)("h2",{id:"configuration"},"Configuration"),Object(o.b)("p",null,"The configuration of the node is as defined below:"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Name"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Required"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Description"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Title"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Required"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The title of the node")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Send Now (Do not batch)"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null})),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Normally when a Convai request happens, all responses are collected and sent out at the end. When Send Now is enabled, the response will not wait until the request is finished. It will be sent immediately. Responses marked with Send Now will not be included when other batched messages are sent out at the end of a request.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Channel"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Required"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Responses can be configured differently for different channels")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Message"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Required"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Message is a collection of messages. A single response can have more than 1 message. Click on ",Object(o.b)("img",{alt:"Input Node explained",src:Object(i.a)("img/nodes/stock/response/6.png")})," to add more messages")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Message Editor"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Required"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The message editor is a ",Object(o.b)("a",Object(a.a)({parentName:"td"},{href:"https://golang.org/pkg/text/template/"}),"templating")," enabled field where you can compose your response")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Typing Time"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Required"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Typing time defines the time to wait before sending the message to the user. During this time, the bot will show the typing indicator.")))))}u.isMDXComponent=!0},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),b=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},u=function(e){var t=b(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=b(n),d=a,m=u["".concat(i,".").concat(d)]||u[d]||p[d]||o;return n?r.a.createElement(m,c({ref:t},l,{components:n})):r.a.createElement(m,c({ref:t},l))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var l=2;l<o;l++)i[l]=n[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},182:function(e,t,n){"use strict";var a=n(0),r=n(48);t.a=function(){return Object(a.useContext)(r.a)}},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(186);var a=n(182);function r(e){var t=(Object(a.a)().siteConfig||{}).baseUrl,n=void 0===t?"/":t;if(!e)return e;return/^(https?:|\/\/)/.test(e)?e:e.startsWith("/")?n+e.slice(1):n+e}},184:function(e,t,n){var a=n(66),r=n(23);e.exports=function(e,t,n){if(a(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},185:function(e,t,n){var a=n(2)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,!"/./"[e](t)}catch(r){}}return!0}},186:function(e,t,n){"use strict";var a=n(17),r=n(34),o=n(184),i="".startsWith;a(a.P+a.F*n(185)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),a=String(e);return i?i.call(t,a,n):t.slice(n,n+a.length)===a}})}}]);